# Cheat Engine Trainer Builder

Инструмент командной строки, который упаковывает таблицу Cheat Engine (`.ct`) в автономный Windows-трейнер (`.exe`).

## Возможности

- конвертация таблицы Cheat Engine в исполняемый файл без необходимости вручную открывать Cheat Engine;
- автоматическое запаковка таблицы внутрь тренера (данные шифруются в base64);
- попытка автоматически запустить Cheat Engine с нужной таблицей (если путь известен) или просто сохранение таблицы во временную папку;
- поддержка архитектур `x64` и `x86` и разных версий Node.js runtime.

## Требования

- Node.js (18 или новее рекомендуется);
- установленный пакет `pkg` (ставится автоматически через `npm install`).

## Установка

```bash
npm install
```

## Пример использования

```bash
npx trainer-builder --input ./my-table.ct
```

По умолчанию тренер окажется в той же директории, что и исходная таблица (например, `./my-table.exe`).

Дополнительные примеры:

```bash
# Указать путь для выходного файла
npx trainer-builder --input table.ct --output ./dist/custom-trainer.exe

# Встроить путь к Cheat Engine, чтобы тренер запускал его автоматически
npx trainer-builder --input table.ct --cheat-engine "C:/Games/Cheat Engine/Cheat Engine.exe"

# Собрать 32-битный тренер
npx trainer-builder --input table.ct --arch x86
```

Чтобы оставить промежуточные файлы сборки (например, для отладки), используйте `--keep-temp`.

## Как это работает

1. Файл `.ct` считывается и кодируется в `base64`.
2. На основе шаблона создаётся временный запускной скрипт, который при выполнении распакует таблицу во временную директорию пользователя.
3. `pkg` компилирует временный скрипт в автономный Windows-исполняемый файл (`.exe`).

Сгенерированный тренер при запуске:

- извлечёт таблицу во временную папку (например, `%TEMP%/ce-trainers/…`);
- при наличии пути к `Cheat Engine.exe` попытается запустить его с этой таблицей;
- иначе сообщит, где лежит извлечённый `.ct` файл, и предложит закрыть окно.

Вы всегда можете указать путь к Cheat Engine при запуске тренера (параметр `--cheat-engine`) или через переменную окружения `CHEAT_ENGINE_PATH`.

## Ограничения

- Для сборки Windows-версии из Linux/macOS потребуется интернет-доступ, чтобы `pkg` загрузил нужный рантайм.
- Генерируемый трейнер не включает сам Cheat Engine и требует его наличия на целевой машине.
- Если вы хотите изменить поведение тренера, отредактируйте шаблон по пути `src/templates/trainer-runner-template.js` и пересоберите проект.

## Лицензия

Свободно используйте и дорабатывайте код по своему усмотрению.
